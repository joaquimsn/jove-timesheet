package br.com.jovetecnologia.infrastructure.dao;


import org.hibernate.HibernateException;
import org.hibernate.Query;
import org.hibernate.Session;
import org.hibernate.Transaction;

import br.com.jovetecnologia.domain.model.Usuario;
import br.com.jovetecnologia.infrastructure.connection.ConexaoHibernate;

public class UsuarioDAO {
	
	private Usuario usuario;
	Session session;
	
	public Usuario validarUsuario(String nome, String senha){
		
		try {
			session = ConexaoHibernate.getSessionFactory().openSession();
			String hql = "SELECT u FROM Usuario u where u.nome =" + nome + "AND u.senha =" + senha;
			
			Query query = session.createQuery(hql);
			
			usuario = (Usuario) query.uniqueResult();
			
		} catch (HibernateException e) {
			ConexaoHibernate.fecharConexao(session);
			e.printStackTrace();
		}
		
		return null;
	}
}
